% Copyright (C) 2020, Marek Gagolewski, https://www.gagolewski.com

\usepackage[australian]{babel}

\usepackage{etex}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{tabularx}
% \usepackage{enumitem}
\usepackage[]{graphicx}
% \setkeys{Gin}{width=0.5\linewidth} %default width
\usepackage[]{color}
\usepackage[lined]{algorithm2e}
\usepackage{alltt}
\usepackage{wasysym}
\usepackage{booktabs}
\usepackage{xspace}
\usepackage{tikz}
\usetikzlibrary{decorations,arrows,shapes,patterns,positioning}
\usepackage{fontawesome}
\usepackage{appendixnumberbeamer}
\usepackage{cancel}
\usepackage{ulem}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{longtable}
\usepackage{mdwlist}
\usepackage{multirow}
\usepackage{multicol}
% \usepackage{tocbibind}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage[sort&compress,round,authoryear]{natbib}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{verbatim}
% \usepackage{mathptmx}
\usepackage{sansmath}
% \usepackage{iwona}
\usefonttheme{professionalfonts}
\usepackage{bm}

\AtBeginPart{
    % just ignore it
}

\AtBeginSubsection{
%   \frame{\subsectionpage}
}

\AtBeginSection{
\thispagestyle{empty}
\frame{\sectionpage}
}


\makeatletter
\providecommand{\bigsqcap}{%
  \mathop{%
    \mathpalette\@updown\bigsqcup
  }%
}
\newcommand*{\@updown}[2]{%
  \rotatebox[origin=c]{180}{$\m@th#1#2$}%
}
\makeatother




\setlength{\topsep}{0pt}
\setlength{\itemsep}{1pt}
\setlength{\partopsep}{1pt}
\setlength{\parskip}{1ex}


\renewcommand{\note}[1]{}

\makeatletter
\newcommand{\verbatimfont}[1]{\renewcommand{\verbatim@font}{\small\ttfamily#1}}
\makeatother

\verbatimfont{\small}
%\newenvironment{Shaded} {\begin{snugshade}\small} {\end{snugshade}}

\let\oldquote=\quote
\let\oldendquote=\endquote
\renewenvironment{quote}
    {\oldquote\smallskip\color{pwmokka}\small}
    {\oldendquote\smallskip}

% New WUT (Warsaw University of Technology) colours:
\definecolor{pwsloneczny}{cmyk}{0,0.15,0.9,0}
\definecolor{pwmorelowy}{cmyk}{0,0.7,0.6,0}
\definecolor{pwsliwkowy}{cmyk}{0.4,0.7,0.2,0}
\definecolor{pwmietowy}{cmyk}{0.6,0.05,0.4,0}
\definecolor{pwszafirowy}{cmyk}{0.5,0.3,0,0}
\definecolor{pwwrzosowy}{cmyk}{0.20,0.25,0.15,0.10}
\definecolor{pwgrafitowy}{cmyk}{0.4,0.15,0.0,0.85}
\definecolor{pwmokka}{cmyk}{0.5,0.5,0.4,0.4}

\useinnertheme{circles}
\useoutertheme{infolines}
\hypersetup{pdfstartview={FitH},bookmarks=true,unicode=true,%
    colorlinks=false,linkcolor=blue,citecolor=gray}
\setbeamertemplate{footline}[frame number]{}
\setbeamertemplate{navigation symbols}{}
% \setbeamertemplate{headline}{}
\beamertemplateshadingbackground{red!20!gray!10}{white}
\setbeamercolor*{author in head/foot}{fg=pwgrafitowy,bg=pwwrzosowy!30}
\setbeamercolor*{title in head/foot}{fg=pwgrafitowy,bg=pwwrzosowy!30}
\setbeamercolor*{date in head/foot}{fg=pwgrafitowy,bg=pwwrzosowy!30}


\setbeamercolor{frametitle}{fg=white}


\renewcommand{\emph}[1]{\textit{\color{pwgrafitowy}#1}}

\setbeamertemplate{headline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=7.5ex,dp=3.5ex]{white}%
    \raggedright
    \hspace*{2em}%
    {\sffamily\Large\color{white}\thesection.\thesubsection.~\insertsubsection}%
    \hspace*{2em}%
  \end{beamercolorbox}%
  }%
}

\setbeamertemplate{frametitle}
{\bf\normalsize\color{pwgrafitowy}\insertframetitle
}


\thispagestyle{empty}

\setbeamertemplate{background}{\includegraphics[width=\paperwidth,height=\paperheight]{build-beamer/marek_slides_background.pdf}}
\author{Marek Gagolewski}
\title{LMLCR}
\date{\today}


\let\oldtitlepage\titlepage
\renewcommand{\titlepage}{\oldtitlepage\ignorespaces
Based on the book by Marek Gagolewski,
\textit{Lightweight Machine Learning Classics with R},
2020, doi:10.5281/zenodo.3679977, \url{https://lmlcr.gagolewski.com}
}
