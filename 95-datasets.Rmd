# Datasets

<!-- (C) 2020 Marek Gagolewski, https://www.gagolewski.com -->

"Good" datasets are actually hard to find!
Many books analyse datasets that are "too easy" and give their readers
the false impression that they can model anything.

Below we briefly describe the most noteworthy
datasets considered in this book.
They are available for download at
https://github.com/gagolews/lmlcr/tree/master/datasets.
Many of them are real-world data, and need some proper cleaning,
outlier removal etc. Moreover, for some of them, the machine learning
models studied will not be of the highest quality. That's life.


## Air Quality

Environment Protection Authority of the state of Victoria, Australia
published the 2018 air quality data on its Open Data platform.
Various parameters are probed at different spots on an hourly basis.

`air_quality` |
---------------------|---------------------------------------------------
Last updated         | 22 May 2019
Provider             | Environment Protection Authority Victoria
License              | Creative Commons Attribution 4.0 International License
Source               | https://discover.data.vic.gov.au/dataset/epa-air-watch-all-sites-air-quality-hourly-averages-yearly

```{r datasets_air1}
air <- read.csv("datasets/air_quality.csv.gz",
    comment.char="#", stringsAsFactors=FALSE)
head(air, 3)
```



Column                       | Description
-----------------------------|---------------------------------------------
sample_point_id              | Integer identifier of the sample point
sp_name                      | Sample point name (city, suburb etc.)
latitude                     |
longitude                    |
sample_datetime              | Date and time of the measurement; DD/MM/YYYY HH:MM:SS local time
time_basis_id                | Denotes whether a 1-hour or 24-hour average is provided (`r paste(unique(air$time_basis_id), collapse=", ")`)
param_id                     | Identifier of the air quality parameter: `r paste(unique(air$param_id), collapse=", ")`
param_name                   | Name of the parameter: `r paste(unique(air$param_name), collapse=", ")`
value                        | Measured parameter value
param_std_unit_of_measure    | Unit of measure
param_short_name             | Short version of the parameter name:  `r paste(unique(air$param_short_name), collapse=", ")`








## Currency Exchange Rates

Statistical Data Warehouse of the European Central Bank System
publishes currency exchange rates (quoted against EUR)
that are updated once per working day.

The column names give the traditional ISO 4217 currency designators
(see Table below), for instance JPY stands for the Japanese (JP)
yen.

In each column like YYY, the quotation (EUR/YYY) is listed,
giving the price of the Euro (here: the base currency)
expressed in the YYY (counter/quote) currency,
e.g., the value of 118.0 in JPY means that 1 euro = 118 yens.



`currency_exchange_all` |
---------------------|---------------------------------------------------
Last updated         | 19 May 2020
Provider             | European Central Bank
License              | Provided free of charge to enhance public access to information       about the activities of the European Central Bank System and the activities of the European System of Central Banks
Source               | http://sdw.ecb.europa.eu/browse.do?node=9691296

```{r datasets_rates}
rates <- read.csv("datasets/currency_exchange_all.csv.gz",
    comment.char="#", stringsAsFactors=FALSE)
rates$Day <- as.Date(rates$Day) # convert to Date-type object
head(rates, 2)
range(rates$Day)
```






Column        | Description
--------------|---------------------------------------------
Day           |    Date in YYYY-MM-DD format, ordered decreasingly
AUD           |    Australian dollar
BGN           |    Bulgarian lev
BRL           |    Brazilian real
CAD           |    Canadian dollar
CHF           |    Swiss franc
CNY           |    Chinese yuan renminbi
CZK           |    Czech koruna
DKK           |    Danish krone
GBP           |    UK pound sterling
HKD           |    Hong Kong dollar
HRK           |    Croatian kuna
HUF           |    Hungarian forint
IDR           |    Indonesian rupiah
ILS           |    Israeli shekel
INR           |    Indian rupee
ISK           |    Iceland krona
JPY           |    Japanese yen
KRW           |    Korean won
MXN           |    Mexican peso
MYR           |    Malaysian ringgit
NOK           |    Norwegian krone
NZD           |    New Zealand dollar
PHP           |    Philippine peso
PLN           |    Polish zloty
RON           |    Romanian leu
RUB           |    Russian rouble
SEK           |    Swedish krona
SGD           |    Singapore dollar
THB           |    Thai baht
TRY           |    Turkish lira
USD           |    US dollar
ZAR           |    South African rand



From this dataset we derive two more files:

* `currency_exchange_single.csv`, which gives only the EUR/AUD rates
    from the least to the most recent:


    ```{r datasets_rates2,eval=FALSE}
    write.table(rev(rates$AUD), "datasets/currency_exchange_single.csv",
        col.names=FALSE, row.names=FALSE, quote=FALSE)
    ```


* `currency_exchange_diff.csv`, which gives relative daily changes
    in the EUR/AUD rates (we use it for building example
    exchange rates prediction algorithms):


    ```{r datasets_rates3}
    n <- nrow(rates)
    pred <- rates[n:1, c("Day", "AUD")] # from oldest to newest
    row.names(pred) <- NULL # reset the row.names attribute
    pred$Change <- NA
    pred$Change[2:n] <- diff(pred$AUD) # iterative difference:
        # pred$Change[2] == pred$AUD[2]-pred$AUD[1], ...,
        # pred$Change[n] == pred$AUD[n]-pred$AUD[n-1]
    pred$Dir <- as.character(cut(pred$Change, c(-Inf, 0, Inf),
        c("dec", "inc"))) # inc if Change is positive, dec otherwise
    for (k in 1:10) {
        name <- paste0("Lag", k)
        pred[[name]] <- NA
        pred[[name]][(k+1):n] <- pred$Change[1:(n-k)]
    }
    tail(pred)
    ```


    Note that `pred$Change[i]` gives by how much the exchange rate
    changed as compared to the previous day, i.e., it is equal to
    `pred$AUD[i]-pred$AUD[i-1]`. `Lag1` is the change from the preceding
    working day, `Lag2` is the one from 2 working days ago, etc.


    ```{r datasets_rates4,eval=FALSE}
    write.csv(pred, "datasets/currency_exchange_diff.csv.gz",
       row.names=FALSE)
    ```




## Urban Forest

The `urban_forest` dataset gives location, species and lifespan of
ca. 72,500 trees in Melbourne, VIC, Australia.


`urban_forest` |
---------------|------------------------------------------------------------------
Last updated   | 10 March 2020
Provider       | City of Melbourne
License        | Creative Commons Attribution 4.0 International Public License
Source         | https://data.melbourne.vic.gov.au/Environment/Trees-with-species-and-dimensions-Urban-Forest-/fp38-wiyy



```{r datasets_forest}
forest <- read.csv("datasets/urban_forest.csv.gz",
    comment.char="#", stringsAsFactors=FALSE)
head(forest, 3)
```



Column                       | Description
-----------------------------|---------------------------------------------
CoM ID                       | City of Melbourne's unique asset ID
Common Name                  |
Scientific Name              |
Genus                        |
Family                       |
Diameter Breast Height       | Diameter at breast height, or DBH, is a standard method of expressing the diameter of the trunk or bole of a standing tree. City of Melbourne Measures this 1.4m from ground level. 0.00 = Not yet assessed
Year Planted                 | This is generally accurate for trees planted from 2003 onward, prior to 2003 this indicate the date the trees are added to the inventory.
Date Planted                 | See above.
Age Description              | Based on Date planted / date of data entry therefore sometimes inaccurate; Null value = Not yet assessed
Useful Life Expectancy       | The trees useful life expectancy. Last updated in 2009; Null value = Not yet assessed
Useful Life Expectancy Value | Useful Life Expectancy Value, derived from the Useful Life Expectancy column, displayed as an integer
Precinct                     | The neighbourhood boundary defined for tree planning purposes
Located In                   | This describes whether a tree is located within a public park or along a street
Upload Date                  |
Coordinate Location          |
Latitude                     |
Longitude                    |
Easting                      | Easting Coordinate, please use MGA94-55
Northing                     | Northing Coordinate, please use MGA94-55



## Wine Quality

The Wine Quality dataset [@wines]
describes 11 physicochemical features of Vinho Verde wine samples
from the north of Portugal.
Moreover, there are wine ratings given by wine experts and their colour.




`winequality` |
---------------|------------------------------------------------------------------
Last updated   | 2009
Provider       | Paulo Cortez (Univ. Minho), Antonio Cerdeira, Fernando Almeida, Telmo Matos and Jose Reis (CVRVV)
License        | Public Domain
Source         | http://archive.ics.uci.edu/ml/datasets/Wine+Quality


```{r dataset_winequality}
wines <- read.csv("datasets/winequality_all.csv",
    comment.char="#", stringsAsFactors=FALSE)
head(wines, 3)
table(wines$color)

```



Column                       | Description
-----------------------------|---------------------------------------------

response                     | wine rating on the scale 0 (bad) to 10 (excellent) -- median of at least 3 expert evaluations
color                        | `red` or `white`



## Other


Boston from MASS

Iris




Let us consider a few clustering benchmark datasets
available at https://github.com/gagolews/clustering_benchmarks_v1
and http://cs.joensuu.fi/sipu/datasets/.
Here is a list of file names together with the
corresponding numbers of clusters (as given by datasets' authors):

wut_isolation
wut_mk2
wut_z3
sipu_aggregation
sipu_pathbased
sipu_unbalance

All the datasets are two-dimensional, hence we'll be able to visualise
the obtained results and assess the sensibility of the obtained clusterings.


MNIST digits

MNIST fashion





## Movie Lens


(permission required) - PENDING



## Fuel Economy


https://fueleconomy.gov/feg/download.shtml


https://corgis-edu.github.io/corgis/csv/

https://corgis-edu.github.io/corgis/csv/food/

https://corgis-edu.github.io/corgis/csv/health/

https://corgis-edu.github.io/corgis/csv/drugs/
